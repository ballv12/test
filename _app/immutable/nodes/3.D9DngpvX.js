import{s as O}from"../chunks/_OcMX5iL.js";import{S as F,i as G,d as b,o as K,p as q,q as Q,m as W,r as X,a as P,b as d,c as f,u as Y,h as C,e as w,f as $,j as S,v as Z,l as M,k as E,w as ee,x as te,y as le,g as z,t as D,s as U}from"../chunks/PjhOgUpK.js";import{e as j}from"../chunks/DJQZ7tzS.js";import{M as ae}from"../chunks/DVbT7Djy.js";function V(o,e,l){const t=o.slice();t[7]=e[l],t[10]=l;const s=t[10]%10===0;return t[8]=s,t}function B(o,e,l){const t=o.slice();return t[11]=e[l],t}function L(o,e,l){const t=o.slice();return t[14]=e[l].name,t[15]=e[l].value,t}function N(o){let e,l,t,s=o[14]+"",n,a,g,v,I,k;return v=ee(o[5][0]),{c(){e=E("label"),l=E("input"),t=M(),n=D(s),a=M(),this.h()},l(c){e=w(c,"LABEL",{class:!0});var _=$(e);l=w(_,"INPUT",{type:!0,name:!0,class:!0}),t=C(_),n=z(_,s),a=C(_),_.forEach(b),this.h()},h(){f(l,"type","radio"),f(l,"name","time_range"),l.__value=o[15],le(l,l.__value),f(l,"class","sr-only"),f(e,"class",g="transition cursor-pointer "+(o[0]===o[15]?"text-white":"")+" svelte-1lm6zrf"),v.p(l)},m(c,_){P(c,e,_),d(e,l),l.checked=l.__value===o[0],d(e,t),d(e,n),d(e,a),I||(k=te(l,"change",o[4]),I=!0)},p(c,_){_&1&&(l.checked=l.__value===c[0]),_&1&&g!==(g="transition cursor-pointer "+(c[0]===c[15]?"text-white":"")+" svelte-1lm6zrf")&&f(e,"class",g)},d(c){c&&b(e),v.r(),I=!1,k()}}}function R(o){let e,l=o[11].name+"",t,s;return{c(){e=E("p"),t=D(l),s=M(),this.h()},l(n){e=w(n,"P",{class:!0});var a=$(e);t=z(a,l),s=C(a),a.forEach(b),this.h()},h(){f(e,"class","text-xs sm:text-sm text-gray-200 !leading-tight")},m(n,a){P(n,e,a),d(e,t),d(e,s)},p(n,a){a&2&&l!==(l=n[11].name+"")&&U(t,l)},d(n){n&&b(e)}}}function H(o){let e,l,t,s,n,a,g=o[7].name+"",v,I,k,c,_=j(o[7].artists),m=[];for(let u=0;u<_.length;u+=1)m[u]=R(B(o,_,u));return{c(){e=E("a"),l=E("object"),s=M(),n=E("div"),a=E("p"),v=D(g),I=M();for(let u=0;u<m.length;u+=1)m[u].c();k=M(),this.h()},l(u){e=w(u,"A",{href:!0,target:!0,rel:!0,class:!0});var p=$(e);l=w(p,"OBJECT",{data:!0,type:!0,class:!0,"aria-label":!0}),$(l).forEach(b),s=C(p),n=w(p,"DIV",{class:!0});var r=$(n);a=w(r,"P",{class:!0});var y=$(a);v=z(y,g),y.forEach(b),I=C(r);for(let i=0;i<m.length;i+=1)m[i].l(r);r.forEach(b),k=C(p),p.forEach(b),this.h()},h(){f(l,"data",t=o[7].album.images[0].url),f(l,"type","image/png"),f(l,"class","w-full h-full rounded-xl bg-gray-800 transition duration-300 group-hv:brightness-50 group-hv:scale-[1.02]"),f(l,"aria-label","Album Art"),f(a,"class","font-bold sm:text-xl line-clamp-3 !leading-tight mb-1"),f(n,"class","z-20 absolute inset-4 flex flex-col justify-end transition duration-300 scale-95 opacity-0 group-hv:scale-100 group-hv:opacity-100 "+(o[8]?"sm:scale-[0.975]":"")),f(e,"href",c=o[7].external_urls.spotify),f(e,"target","_blank"),f(e,"rel","noopener noreferrer"),f(e,"class","aspect-square relative group transition rounded-xl overflow-hidden "+(o[8]?"sm:col-span-2 sm:row-span-2":""))},m(u,p){P(u,e,p),d(e,l),d(e,s),d(e,n),d(n,a),d(a,v),d(n,I);for(let r=0;r<m.length;r+=1)m[r]&&m[r].m(n,null);d(e,k)},p(u,p){if(p&2&&t!==(t=u[7].album.images[0].url)&&f(l,"data",t),p&2&&g!==(g=u[7].name+"")&&U(v,g),p&2){_=j(u[7].artists);let r;for(r=0;r<_.length;r+=1){const y=B(u,_,r);m[r]?m[r].p(y,p):(m[r]=R(y),m[r].c(),m[r].m(n,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=_.length}p&2&&c!==(c=u[7].external_urls.spotify)&&f(e,"href",c)},d(u){u&&b(e),q(m,u)}}}function J(o){let e,l=j(o[1]??[]),t=[];for(let s=0;s<l.length;s+=1)t[s]=H(V(o,l,s));return{c(){e=E("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0});var n=$(e);for(let a=0;a<t.length;a+=1)t[a].l(n);n.forEach(b),this.h()},h(){f(e,"class","fade fade-delay mt-8 mx-auto max-w-screen-xl px-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 grid-flow-dense")},m(s,n){P(s,e,n);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,n){if(n&2){l=j(s[1]??[]);let a;for(a=0;a<l.length;a+=1){const g=V(s,l,a);t[a]?t[a].p(g,n):(t[a]=H(g),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(s){s&&b(e),q(t,s)}}}function se(o){let e,l,t,s,n,a="Music",g,v,I="I don't lessen to music as much as I used to, but here are some of the tracks l've listened to the most on Spotify.",k,c,_,m=o[0],u;e=new ae({props:{title:"Music â€“ Bell",description:"Tracks I've listened to the most on Spotify."}});let p=j(o[2]),r=[];for(let i=0;i<p.length;i+=1)r[i]=N(L(o,p,i));let y=J(o);return{c(){Z(e.$$.fragment),l=M(),t=E("main"),s=E("div"),n=E("h1"),n.textContent=a,g=M(),v=E("p"),v.textContent=I,k=M(),c=E("div");for(let i=0;i<r.length;i+=1)r[i].c();_=M(),y.c(),this.h()},l(i){Y(e.$$.fragment,i),l=C(i),t=w(i,"MAIN",{});var x=$(t);s=w(x,"DIV",{class:!0});var h=$(s);n=w(h,"H1",{class:!0,"data-svelte-h":!0}),S(n)!=="svelte-qaipbz"&&(n.textContent=a),g=C(h),v=w(h,"P",{class:!0,"data-svelte-h":!0}),S(v)!=="svelte-1svgguw"&&(v.textContent=I),k=C(h),c=w(h,"DIV",{class:!0});var A=$(c);for(let T=0;T<r.length;T+=1)r[T].l(A);A.forEach(b),h.forEach(b),_=C(x),y.l(x),x.forEach(b),this.h()},h(){f(n,"class","header"),f(v,"class","mt-4 text-gray-400"),f(c,"class","mt-8 flex flex-wrap gap-x-8 gap-y-2 text-gray-400"),f(s,"class","wrapper fade")},m(i,x){X(e,i,x),P(i,l,x),P(i,t,x),d(t,s),d(s,n),d(s,g),d(s,v),d(s,k),d(s,c);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(c,null);d(t,_),y.m(t,null),u=!0},p(i,[x]){if(x&5){p=j(i[2]);let h;for(h=0;h<p.length;h+=1){const A=L(i,p,h);r[h]?r[h].p(A,x):(r[h]=N(A),r[h].c(),r[h].m(c,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=p.length}x&1&&O(m,m=i[0])?(y.d(1),y=J(i),y.c(),y.m(t,null)):y.p(i,x)},i(i){u||(W(e.$$.fragment,i),u=!0)},o(i){Q(e.$$.fragment,i),u=!1},d(i){i&&(b(l),b(t)),K(e,i),q(r,i),y.d(i)}}}function ne(o,e,l){let t;const s=[{name:"Past Month",value:"short_term"},{name:"Past 6 Months",value:"medium_term"},{name:"All Time",value:"long_term"}],n={short_term:null,medium_term:null,long_term:null};let a=s[0].value;function g(k){n[k]||(l(3,n[k]=[],n),fetch("/api/top-tracks?time_range="+k).then(c=>c.json()).then(c=>{l(3,n[k]=c,n)}))}const v=[[]];function I(){a=this.__value,l(0,a)}return o.$$.update=()=>{o.$$.dirty&1&&g(a),o.$$.dirty&9&&l(1,t=n[a])},[a,t,s,n,I,v]}class ue extends F{constructor(e){super(),G(this,e,ne,se,O,{})}}export{ue as component};
