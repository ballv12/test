import{s as O}from"../chunks/_OcMX5iL.js";import{S as F,i as G,d as b,o as K,p as S,q as Q,m as W,r as X,a as $,b as d,c as f,u as Y,h as A,e as w,f as C,j as D,v as Z,l as P,k as E,w as ee,x as te,y as le,g as q,t as z,s as U}from"../chunks/PjhOgUpK.js";import{e as M}from"../chunks/DJQZ7tzS.js";import{M as ae}from"../chunks/DVbT7Djy.js";function V(o,e,l){const t=o.slice();t[7]=e[l],t[10]=l;const s=t[10]%10===0;return t[8]=s,t}function B(o,e,l){const t=o.slice();return t[11]=e[l],t}function L(o,e,l){const t=o.slice();return t[14]=e[l].name,t[15]=e[l].value,t}function N(o){let e,l,t,s=o[14]+"",n,a,g,v,I,y;return v=ee(o[5][0]),{c(){e=E("label"),l=E("input"),t=P(),n=z(s),a=P(),this.h()},l(c){e=w(c,"LABEL",{class:!0});var _=C(e);l=w(_,"INPUT",{type:!0,name:!0,class:!0}),t=A(_),n=q(_,s),a=A(_),_.forEach(b),this.h()},h(){f(l,"type","radio"),f(l,"name","time_range"),l.__value=o[15],le(l,l.__value),f(l,"class","sr-only"),f(e,"class",g="transition cursor-pointer "+(o[0]===o[15]?"text-white":"")+" svelte-1lm6zrf"),v.p(l)},m(c,_){$(c,e,_),d(e,l),l.checked=l.__value===o[0],d(e,t),d(e,n),d(e,a),I||(y=te(l,"change",o[4]),I=!0)},p(c,_){_&1&&(l.checked=l.__value===c[0]),_&1&&g!==(g="transition cursor-pointer "+(c[0]===c[15]?"text-white":"")+" svelte-1lm6zrf")&&f(e,"class",g)},d(c){c&&b(e),v.r(),I=!1,y()}}}function R(o){let e,l=o[11].name+"",t,s;return{c(){e=E("p"),t=z(l),s=P(),this.h()},l(n){e=w(n,"P",{class:!0});var a=C(e);t=q(a,l),s=A(a),a.forEach(b),this.h()},h(){f(e,"class","text-xs sm:text-sm text-gray-200 !leading-tight")},m(n,a){$(n,e,a),d(e,t),d(e,s)},p(n,a){a&2&&l!==(l=n[11].name+"")&&U(t,l)},d(n){n&&b(e)}}}function H(o){let e,l,t,s,n,a,g=o[7].name+"",v,I,y,c,_=M(o[7].artists),m=[];for(let u=0;u<_.length;u+=1)m[u]=R(B(o,_,u));return{c(){e=E("a"),l=E("object"),s=P(),n=E("div"),a=E("p"),v=z(g),I=P();for(let u=0;u<m.length;u+=1)m[u].c();y=P(),this.h()},l(u){e=w(u,"A",{href:!0,target:!0,rel:!0,class:!0});var p=C(e);l=w(p,"OBJECT",{data:!0,type:!0,class:!0,"aria-label":!0}),C(l).forEach(b),s=A(p),n=w(p,"DIV",{class:!0});var r=C(n);a=w(r,"P",{class:!0});var k=C(a);v=q(k,g),k.forEach(b),I=A(r);for(let i=0;i<m.length;i+=1)m[i].l(r);r.forEach(b),y=A(p),p.forEach(b),this.h()},h(){f(l,"data",t=o[7].album.images[0].url),f(l,"type","image/png"),f(l,"class","w-full h-full rounded-xl bg-gray-800 transition duration-300 group-hv:brightness-50 group-hv:scale-[1.02]"),f(l,"aria-label","Album Art"),f(a,"class","font-bold sm:text-xl line-clamp-3 !leading-tight mb-1"),f(n,"class","z-20 absolute inset-4 flex flex-col justify-end transition duration-300 scale-95 opacity-0 group-hv:scale-100 group-hv:opacity-100 "+(o[8]?"sm:scale-[0.975]":"")),f(e,"href",c=o[7].external_urls.spotify),f(e,"target","_blank"),f(e,"rel","noopener noreferrer"),f(e,"class","aspect-square relative group transition rounded-xl overflow-hidden "+(o[8]?"sm:col-span-2 sm:row-span-2":""))},m(u,p){$(u,e,p),d(e,l),d(e,s),d(e,n),d(n,a),d(a,v),d(n,I);for(let r=0;r<m.length;r+=1)m[r]&&m[r].m(n,null);d(e,y)},p(u,p){if(p&2&&t!==(t=u[7].album.images[0].url)&&f(l,"data",t),p&2&&g!==(g=u[7].name+"")&&U(v,g),p&2){_=M(u[7].artists);let r;for(r=0;r<_.length;r+=1){const k=B(u,_,r);m[r]?m[r].p(k,p):(m[r]=R(k),m[r].c(),m[r].m(n,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=_.length}p&2&&c!==(c=u[7].external_urls.spotify)&&f(e,"href",c)},d(u){u&&b(e),S(m,u)}}}function J(o){let e,l=M(o[1]??[]),t=[];for(let s=0;s<l.length;s+=1)t[s]=H(V(o,l,s));return{c(){e=E("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0});var n=C(e);for(let a=0;a<t.length;a+=1)t[a].l(n);n.forEach(b),this.h()},h(){f(e,"class","fade fade-delay mt-8 mx-auto max-w-screen-xl px-8 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 grid-flow-dense")},m(s,n){$(s,e,n);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(e,null)},p(s,n){if(n&2){l=M(s[1]??[]);let a;for(a=0;a<l.length;a+=1){const g=V(s,l,a);t[a]?t[a].p(g,n):(t[a]=H(g),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=l.length}},d(s){s&&b(e),S(t,s)}}}function se(o){let e,l,t,s,n,a="Music",g,v,I="Tracks I've listened to the most on Spotify (all data provided by my Spotify Account API ðŸˆ).",y,c,_,m=o[0],u;e=new ae({props:{title:"Music â€“ vornexx",description:"Tracks I've listened to the most on Spotify."}});let p=M(o[2]),r=[];for(let i=0;i<p.length;i+=1)r[i]=N(L(o,p,i));let k=J(o);return{c(){Z(e.$$.fragment),l=P(),t=E("main"),s=E("div"),n=E("h1"),n.textContent=a,g=P(),v=E("p"),v.textContent=I,y=P(),c=E("div");for(let i=0;i<r.length;i+=1)r[i].c();_=P(),k.c(),this.h()},l(i){Y(e.$$.fragment,i),l=A(i),t=w(i,"MAIN",{});var x=C(t);s=w(x,"DIV",{class:!0});var h=C(s);n=w(h,"H1",{class:!0,"data-svelte-h":!0}),D(n)!=="svelte-qaipbz"&&(n.textContent=a),g=A(h),v=w(h,"P",{class:!0,"data-svelte-h":!0}),D(v)!=="svelte-r1kiwh"&&(v.textContent=I),y=A(h),c=w(h,"DIV",{class:!0});var T=C(c);for(let j=0;j<r.length;j+=1)r[j].l(T);T.forEach(b),h.forEach(b),_=A(x),k.l(x),x.forEach(b),this.h()},h(){f(n,"class","header"),f(v,"class","mt-4 text-gray-400"),f(c,"class","mt-8 flex flex-wrap gap-x-8 gap-y-2 text-gray-400"),f(s,"class","wrapper fade")},m(i,x){X(e,i,x),$(i,l,x),$(i,t,x),d(t,s),d(s,n),d(s,g),d(s,v),d(s,y),d(s,c);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(c,null);d(t,_),k.m(t,null),u=!0},p(i,[x]){if(x&5){p=M(i[2]);let h;for(h=0;h<p.length;h+=1){const T=L(i,p,h);r[h]?r[h].p(T,x):(r[h]=N(T),r[h].c(),r[h].m(c,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=p.length}x&1&&O(m,m=i[0])?(k.d(1),k=J(i),k.c(),k.m(t,null)):k.p(i,x)},i(i){u||(W(e.$$.fragment,i),u=!0)},o(i){Q(e.$$.fragment,i),u=!1},d(i){i&&(b(l),b(t)),K(e,i),S(r,i),k.d(i)}}}function ne(o,e,l){let t;const s=[{name:"Past Month",value:"short_term"},{name:"Past 6 Months",value:"medium_term"},{name:"All Time",value:"long_term"}],n={short_term:null,medium_term:null,long_term:null};let a=s[0].value;function g(y){n[y]||(l(3,n[y]=[],n),fetch("/api/top-tracks?time_range="+y).then(c=>c.json()).then(c=>{l(3,n[y]=c,n)}))}const v=[[]];function I(){a=this.__value,l(0,a)}return o.$$.update=()=>{o.$$.dirty&1&&g(a),o.$$.dirty&9&&l(1,t=n[a])},[a,t,s,n,I,v]}class ue extends F{constructor(e){super(),G(this,e,ne,se,O,{})}}export{ue as component};
